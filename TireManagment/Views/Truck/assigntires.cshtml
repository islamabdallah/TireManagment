@using TireManagment.Models;
@using TireManagment.DbModels;
@model TireManagment.Models.PositionsWithSerial;
<div class="pagetitle">
    <h3>MasterData</h3>
    <nav>
        <ol class="breadcrumb">
            <li class="breadcrumb-item"><a asp-action="Index" asp-controller="Home">Home</a></li>
            <li class="breadcrumb-item">MasterData</li>
            <li class="breadcrumb-item active">Tires Assignig</li>
        </ol>
    </nav>
</div><!-- End Page Title -->

<section class="section">
    <div class="row">
        <div class="col-lg-12">

            <div class="card">
                <div class="card-body">
                    <h5 class="card-title">Assign Tires</h5>

                    <div class="row">
                        <div class="col-md-6">
                            <p class="alert alert-secondary" role="alert"> <b>Note : </b> Add new tire to the system  , <code>Tire Status : New</code></p>
                        </div>
                    </div>

                    <button type="button" class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#addmodal">
                        <span class="badge badge-light"> <i class="bi bi-plus-circle"></i> </span>Add Tire
                    </button>
                    |
                    <button type="button" class="btn btn-success">
                        <span class="badge badge-light">
                            <i class="bi bi-file-earmark-spreadsheet"></i>
                        </span>Export to Excel
                    </button>

                    <br />
                    <br />
                    <!-- Table with stripped rows -->
                    <div class="dataTable-wrapper dataTable-loading no-footer sortable searchable fixed-columns">
                        <div class="dataTable-top">


                        </div>
                        <div class="dataTable-container">

                          <table class="table">
                              
                             <thead>
                                 <tr>
                                 <td>Position</td>
                                 <th>Assigned Tire</th>
                              </tr>
                             </thead>
                             <tbody>
                                 <form asp-action="AssignTiress" asp-controller="Truck">
                                 @foreach (TruckTireViewModel position in ViewBag.positios)
                                 {
                                     <tr>
                                         <td>
                                            <input name="position" readonly value="@position.Position" />
                                         </td>
                                         <td>
                                             @if(position.TireSerial == null)
                                             {
                                                 <select name="serial"  asp-items="@(new SelectList( ViewBag.tires, nameof(tirewithserial.tierid), nameof(tirewithserial.serial)))" class="form-control"></select>
                                             }
                                             else
                                             {
                                                      <input  readonly type="text"  value="@position.TireSerial"/>
                                             }
                                         </td>
                                     </tr>
                                 }
                                 <input type="submit" />
                                 </form>
                             </tbody>
                          </table>
                          
                        </div>


                    </div>
                    <!-- End Table with stripped rows -->

                </div>
            </div>

        </div>
    </div>
</section>
