@model IEnumerable<TireManagment.DbModels.TruckCategory>

@{
    ViewData["Title"] = "Index";
}


    <div class="pagetitle">
        <h3>MasterData</h3>
        <nav>
            <ol class="breadcrumb">
                <li class="breadcrumb-item"><a asp-action="Index" asp-controller="Home">Home</a></li>
                <li class="breadcrumb-item">MasterData</li>
                <li class="breadcrumb-item active">Truck Categories</li>
            </ol>
        </nav>
    </div><!-- End Page Title -->

<section class="section">
    <div class="modal fade" id="addmodal" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1" aria-labelledby="staticBackdropLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h4 class="modal-title" id="staticBackdropLabel">  Add Administrator</h4>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body" style="vertical-align:central;text-align:center">
                    <img id="img" src="" width="300" height="400" />
                </div>
                <div class="modal-footer">

                    <button onclick="hide()" type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                </div>
            </div>
        </div>
    </div>
    <div class="row">
        <div class="col-lg-12">

                <div class="card">
                    <div class="card-body">
                        <h5 class="card-title">Truck Categories</h5>
                       @* <p>Add lightweight datatables to your project with using the <a href="https://github.com/fiduswriter/Simple-DataTables" target="_blank">Simple DataTables</a> library. Just add <code>.datatable</code> class name to any table you wish to conver to a datatable</p>*@

                                       <div class="row">
                            <div class="col-md-6">
                                <p class="alert alert-secondary" role="alert"> <b>Note : </b> List of Truck Categories on the system   , <code> Related to each truck </code></p>
                            </div>
                        </div>
                                      <a asp-action="Excel" asp-controller="Category" class="btn btn-success"><span class="badge badge-light">
                              <i class="bi bi-file-earmark-spreadsheet"></i></span>Export to Excel 
                           </a>

                           <br />
                           <br />

                        <!-- Table with stripped rows -->
                        <div class="dataTable-wrapper dataTable-loading no-footer sortable searchable fixed-columns">
                         
                                <table class="table datatable">
                                    <thead>
                                        <tr>
                                            <th scope="col" >#ID</></th>
                                            <th  scope="col" >Name</a></th>
                                            <th scope="col" >Tire Count</a></th>
                                               <th scope="col">Front Tire</></th>
                                            <th scope="col">Rare Tires</a></th>
                                            <th scope="col">Spare Tire</></th>
                                             <th scope="col">Image</></th>
                              @*              <th scope="col">Status</></th>
                                            <th scope="col">Date</></th>*@

                                </tr>
                            </thead>
                            <tbody>
                                @foreach (var category in Model)
                                {
                                    // var FullPath = "~/Img/"+category.Image;

                                    <tr>
                                        <th scope="row">@category.Id</th>
                                        <td>@category.Category</td>
                                        <td>@category.TireCount</td>
                                        <td>@category.FrontTires</td>
                                        <td>@category.RareTires</td>
                                        <td>@category.SpareTires</td>
                                        <td onclick="showimage('@category.Image', '@category.Category')"><a data-bs-toggle="modal" data-bs-target="#addmodal"> <i class="bi bi-images"></i></a></td>
                                    </tr>
                                }


                            </tbody>
                        </table>
                    </div>

                </div>
                <!-- End Table with stripped rows -->

            </div>
        </div>

    </div>

</section>

@section Scripts{
    <script>
        function showimage(url, category) {
            var title = document.getElementById("staticBackdropLabel");
            title.innerHTML= category;
            var src = document.location.origin + '/Img/' + url;
            // alert(src);
            var img = document.getElementById("img");

            img.src = src;
        }
        function hide() {
            $('#addmodal').modal('hide');
        }
    </script>
}